<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<title></title>
		<meta name="renderer" content="webkit|ie-stand|ie-comp" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="Generator" content="GVSUN" />
		<meta name="Author" content="chenyawen" />
		<meta name="Keywords" content="" />
		<meta name="Description" content="" />
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=0.5, maximum-scale=1" />
		<link rel="stylesheet" th:href="@{/layui/css/layui.css}" media="all">
		<link rel="stylesheet" th:href="@{/modules/gvsunWork/style/admin.css}" media="all">
		<link rel="stylesheet" th:href="@{/modules/gvsunWork/static/css/font-awesome.min.css}" media="all">
		<link rel="stylesheet" th:href="@{/modules/gvsunWork/static/css/expand.css}" media="all">
		<link rel="stylesheet" th:href="@{/modules/gvsunWork/static/formselect/formSelects-v4.css}" media="all">
		<link rel="stylesheet" type="text/css" th:href="@{${resourceContainerHost} +  '/shareApi/resourceContainer.css'}"/>
		<script type="text/javascript" th:src="@{${resourceContainerHost} + '/shareApi/resourceContainer.js'}"></script>
		<style>
			.layui-form-label {
				width: 68px;
			}
			
			.layui-input-block {
				margin-left: 68px;
			}
		</style>

	</head>

	<body>
		<!--主体开始-->
		<div class="content_box">
			<form class="layui-form lesson_card" lay-filter="newhomeworkbox" id="newhomeworkbox">
				<div class="layui-fluid">
					<!--基础信息开始-->
					<div class="layui-card" id="info">
						<div class="layui-card-header">基础信息</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space20">
								<div class="layui-col-lg4">
									<label class="layui-form-label">作业名称<font class="red_dot">*</font></label>
									<div class="layui-input-block">
										<input class="layui-input" name="title" autocomplete="on" lay-verify="required" placeholder="请输入作业名称"/>
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">作业分值:</label>
									<div class="layui-input-block">
										<input type="text" class="btn_article" name="score" autocomplete="off" readonly="readonly"/>
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">作业分类:</label>
									<div class="layui-input-block">
										<input type="text" class="btn_article" name="category" autocomplete="off" readonly="readonly"/>
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">所属章节<font class="red_dot">*</font></label>
									<div class="layui-input-block">
										<select name="chapterId" id="chapter" lay-search lay-filter="chapter" lay-verify="required">
											<option value="-1">请选择所属章节</option>
										</select>
									</div>
								</div>
								<!--实验项目先隐藏，后续根据需要-->
								<div class="layui-col-lg4" style="display: none">
									<label class="layui-form-label">实验项目</label>
									<div class="layui-input-block">
										<select name="project" id="project" lay-search lay-verify="required">
											<option value="-1">请选择实验项目</option>
										</select>
									</div>
								</div>
								<div class="layui-col-lg4" style="display: none">
									<label class="layui-form-label">课时小节</label>
									<div class="layui-input-block">
										<select name="lessonId" id="lesson" lay-search lay-verify="required">
											<option value="-1">请选择课时小节</option>
										</select>
									</div>
								</div>
								<div class="layui-col-lg12">
									<label class="layui-form-label">开始时间:</label>
									<div class="layui-input-block">
										<input type="radio" name="starttype" value="1" title="选择开始节次" lay-filter="starttype" checked="">
										<input type="radio" name="starttype" value="0" title="选择开始日期" lay-filter="starttype">
									</div>
								</div>
								<div class="layui-col-lg12 startclass">
									<label class="layui-form-label">开始节次:</label>
									<div class="layui-input-block">
										<input type="button" class="layui-btn chooseclass" name="chooseclass" data-method="chooseclass" value="选择节次" />
										<font>（此处为选择节次以后显示的信息）</font>
										<font class="font_grey">时长默认为14天（即两周之后作业截止）</font>
									</div>
								</div>
								<div class="layui-col-lg8 startdate hide">
									<label class="layui-form-label">开始日期</label>
									<div class="layui-input-block">
										<input class="layui-input" name="startDate" id="startdate" autocomplete="on" lay-verify="required" placeholder="请选择作业开始时间" />
										<font class="font_grey">时长默认为14天（即两周之后作业截止）</font>
									</div>
								</div>
								<div class="layui-col-lg4 startduration hide">
									<label class="layui-form-label">时长</label>
									<div class="layui-input-block">
										<input type="hidden" name="endDate" id="endDate">
										<input class="layui-input short_inputtext" name="duration" autocomplete="on" lay-verify="required" />
										<font>天</font>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!--基础信息结束-->
					<!--作业设置开始-->
					<div class="layui-card" id="set">
						<div class="layui-card-header">作业设置</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space20">
								<div class="layui-col-lg4" style="display: none">
									<label class="layui-form-label">成绩册:</label>
									<div class="layui-input-block">
										<input type="radio" name="isToGradebook" value="1" title="添加" checked="">
										<input type="radio" name="isToGradebook" value="0" title="不添加">
									</div>
								</div>
								<div class="layui-col-lg4" style="display: none">
									<label class="layui-form-label">启用查重:</label>
									<div class="layui-input-block">
										<input type="radio" name="isDuplicateChecking" value="1" title="是" checked="">
										<input type="radio" name="isDuplicateChecking" value="0" title="否">
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">成绩公布给学生:</label>
									<div class="layui-input-block">
										<input type="radio" name="isGradeToStudent" value="1" title="是" checked="">
										<input type="radio" name="isGradeToStudent" value="0" title="否">
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">提交次数:</label>
									<div class="layui-input-block">
										<input type="radio" name="commitTime" value="0" title="无限制" lay-filter="submittimes" checked="">
										<input type="radio" name="commitTime" value="1" title="自定义" lay-filter="submittimes">
										<label class="submitnum_box hide">
										    <input type="text" class="layui-input submitnum" name="submitnum" autocomplete="off" placeholder="次数" />
									        <font>次</font>
										</label>
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">允许迟交:</label>
									<div class="layui-input-block">
										<input type="radio" name="submitLate" value="1" title="是" lay-filter="testine" checked="">
										<input type="radio" name="submitLate" value="0" title="否" lay-filter="testine">
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">提交形式</label>
									<div class="layui-input-block">
										<select id="submittype" lay-filter="submittype" name="commitType" lay-search lay-verify="required">
											<option value="1">输入文字或添加附件</option>
											<option value="2">仅输入文字</option>
											<option value="3">仅提交附件</option>
										</select>
									</div>
								</div>
								<div class="layui-col-lg4 enclosure_type">
									<label class="layui-form-label">附件类型</label>
									<div class="layui-input-block">
										<select name="appendixType" id="appendixType1" xm-select="appendixType" xm-select-skin="normal" lay-filter="" lay-verify="required">

										</select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!--作业设置结束-->
					<!--作业要求开始-->
					<div class="layui-card" id="requirements">
						<div class="layui-card-header">作业要求</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space20">
								<div class="layui-col-lg12">
									<label class="layui-form-label">作业要求</label>
									<div class="layui-input-block">
										<textarea id="requirement" name="requirement" style="display: none;" placeholder="请输入作业要求" lay-verify="requirement"></textarea>
									</div>
								</div>
								<div class="layui-col-lg12">
									<label class="layui-form-label">添加附件</label>
									<div class="layui-input-block">
										<!--上传开始-->
										<div class="layui-col-md12">
											<div class="layui-row layui-form-item">
												<div class="fill_box">
													<div class="layui-row layui-col-space10 layui-form-item">
														<div class="layui-col-lg12">
															<div class="mix_uploadbox">
																<div class="layui-upload">
																	<div class="layui-upload-drag" id="projectbook">
																		<i class="layui-icon"></i>
																		<p>点击选择文件，或将文件拖拽到此处</p>
																	</div>
																	<div class="layui-upload-list">
																		<table class="layui-table">
																			<thead>
																				<tr>
																					<th>文件名</th>
																					<th>大小</th>
																					<th>状态</th>
																					<th>操作</th>
																				</tr>
																			</thead>
																			<tbody id="pblist"></tbody>
																		</table>
																		<div class="upload_btn">
																			<input type="button" class="layui-btn" id="uploadfilesbtn" value="开始上传文件" />
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
										<!--上传结束-->
									</div>
								</div>
							</div>
						</div>
					</div>
					<!--作业要求结束-->
					<!--作业类型开始-->
					<div class="layui-card" id="type">
						<div class="layui-card-header">作业类型</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space20">
								<div class="layui-col-lg12">
									<input type="radio" name="type" value="0" title="普通作业" lay-filter="worktype" checked="">
									<input type="radio" name="type" value="1" title="小组作业" lay-filter="worktype">
								</div>
							</div>
						</div>
					</div>
					<!--作业类型结束-->
					<!--普通作业开始-->
					<div class="layui-card normal_homework" id="normal_homework">
						<div class="layui-card-header">普通作业</div>
						<div class="layui-card-body">
							<div class="layui-row layui-col-space20">
								<div class="layui-col-lg12">
									<input type="radio" name="repeatwork" value="不开启重复作业" title="不开启重复作业" lay-filter="repeatwork" checked="">
									<input type="radio" name="repeatwork" value="开启重复作业" title="开启重复作业" lay-filter="repeatwork">
								</div>
								<div class="layui-row layui-col-space20 normal_homework_box hide">
									<div class="layui-col-lg12">
										<input class="layui-btn morenormalhomework" type="button" data-method="morenormalhomework" value="批量添加" />
										<input class="layui-btn oncenormalhomework" type="button" value="新增一次" />
									</div>
									<!--新增普通作业区域开始-->
									<div class="layui-col-lg12">
										<div class="layui-row layui-col-space20 new_normal_homework"></div>
									</div>
									<!--新增普通作业区域结束-->
									<!--单次普通作业开始-->
									<div class="new_once_normal hide">

									</div>
									<!--单次普通作业结束-->
								</div>
							</div>
						</div>
					</div>
					<!--普通作业结束-->
					<!--小组作业开始-->
					<div class="layui-card team_homework hide" id="team_homework">
						<div class="layui-card-header">小组作业</div>
						<div class="layui-card-body">
							<div class="layui-row">
								<div class="layui-col-lg4">
									<label class="layui-form-label">小组类别</label>
									<div class="layui-input-block">
										<select name="categoryId" lay-verify="required" lay-filter="group_category">
											<option value=""></option>
										</select>
									</div>
								</div>
								<div class="layui-col-lg4">
									<label class="layui-form-label">小组类别</label>
									<div class="layui-input-block">
										<select name="groupIds" xm-select="groupIds" xm-select-skin="normal" lay-filter="" lay-verify="required">
											<option value=""></option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<input type="hidden" id="fileUrl" name="fileUrl">
					<!--小组作业结束-->
					<!--操作按钮开始-->
					<div class="layui-col-lg12 bottom_btnbox layui-hide">
						<input lay-filter="newhomeworkbtn" id="newhomeworkbtn" class="layui-btn" lay-submit value="立即提交" />
						<input lay-filter="savehomeworkbtn" id="savehomeworkbtn" class="layui-btn" lay-submit value="保存草稿" />
						<input type="reset" class="layui-btn layui-btn-primary" value="取消" />
					</div>
					<!--操作按钮结束-->
				</div>
			</form>
		</div>
		<!--主体结束-->
		<!--右侧栏开始-->
		<div class="quick_line">
			<a href="#info">基础<br/>信息</a>
			<a href="#set">作业<br/>设置</a>
			<a href="#requirements">作业<br/>要求</a>
			<a href="#type">作业<br/>类型</a>
			<a class="normal_homework_quick" href="#normal_homework">普通<br/>作业</a>
			<a class="team_homework_quick hide" href="#team_homework">小组<br/>作业</a>
			<div class="top layui-icon layui-icon-top"></div>
		</div>
		<!--右侧栏结束-->
		<div th:replace="/gvsunWork/globalscript"></div>
		<script th:src="@{/modules/gvsunWork/static/js/global.js}"></script>
<!--		<script th:src="@{/js/xm-select.js}"></script>-->
		<script type="text/javascript" th:src="@{/modules/gvsunWork/static/js/timeTransformation.js}"></script>
		<script th:inline="javascript">
			let allTCourseSite = [[${allTCourseSite}]];
			let username = [[${session.user.username}]];
			let siteId = [[${cid}]];
			let currentUsername = [[${session.user.username}]];
			let siteEnName = [[${siteEnName}]];
			let siteSecret = [[${siteSecret}]];
			let type = [[${type}]];
			let title_head = [[${title}]];
			resourceContainer.initResourceContainer({
				oauth2Host: [[${oauth2Host}]],
				siteName: "教学平台",
				username: username
			});
			let numOrdinary = ''; //普通作业
			function getChildOrdinary(count) {
				numOrdinary = count;
			}
			let numTeam = ''; //小组作业
			function getChildTeam(count){
				numTeam = count;
			}
			let selectDateTime = '';  //选择节次时间
			function getDateTime(date) {
				selectDateTime = date;
			}
		</script>
		<script th:src="@{/modules/gvsunWork/static/formselect/formSelects-v4.min.js}"></script>
		<script th:src="@{/modules/gvsunWork/newHomework.js}"></script>
	</body>
</html>​​​